<div *ngIf="metadata else unrevealed" class="container">
    <!-- VERSION ONE - LOADER IN THE IMAGE ONLY -->
    <!-- <div *ngIf="metadata" class="info">
        <h1>{{ metadata.description }}</h1>
        <div *ngIf="(image$ | async) else loader">
            <img [src]="metadata.image" alt="NFT Image">
        </div>
        <ng-template #loader>
            <div class="loader">
                <svg width="256" height="320" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path class="loader__image" d="M122 90H378L122 410H378L122 90Z"/>
                </svg>
                <p class="loader__text">Please await a little bit meanwhile your unique piece of art is been generated...</p>
            </div>
        </ng-template>

        <a class="btn" [ngClass]="{'blocked': !(image$ | async)}" [href]="openSeaUrl" target="_blank">Support the Right to Breathe Initiative</a>
        <p>Token  ID:  {{ breath.data.rfid }}</p>
        <p>Generated on: {{ breath.data.date_t }}</p>
        <div class="social">
            <a href="#" target="_blank">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24.4492 24.451H20.8933V18.8801C20.8933 17.5518 20.8693 15.8414 19.0435 15.8414C17.1914 15.8414 16.9078 17.2885 16.9078 18.7825V24.4506H13.352V12.9975H16.7656V14.5628H16.8116C17.1533 13.9787 17.6471 13.4981 18.2403 13.1723C18.8334 12.8465 19.5039 12.6878 20.1802 12.7129C23.7844 12.7129 24.4492 15.084 24.4492 18.1683V24.451ZM9.33937 11.4316C8.93116 11.4317 8.5321 11.3107 8.19264 11.084C7.85318 10.8573 7.58858 10.5349 7.4323 10.1578C7.27603 9.78065 7.23509 9.36563 7.31467 8.96522C7.39425 8.56482 7.59078 8.197 7.87939 7.9083C8.16801 7.6196 8.53575 7.42297 8.93611 7.3433C9.33646 7.26362 9.75146 7.30447 10.1286 7.46067C10.5057 7.61688 10.8281 7.88143 11.0549 8.22086C11.2817 8.56029 11.4027 8.95937 11.4027 9.36761C11.4027 9.91494 11.1854 10.4399 10.7984 10.8269C10.4115 11.214 9.88665 11.4315 9.33937 11.4316V11.4316ZM11.1173 24.4506H7.55774V12.9975H11.1178L11.1173 24.4506ZM26.2202 4.00156H5.77058C5.54054 3.99876 5.3122 4.04137 5.09864 4.12695C4.88508 4.21253 4.6905 4.33939 4.52604 4.50028C4.36157 4.66117 4.23045 4.85291 4.14019 5.06455C4.04992 5.27618 4.00228 5.50354 4 5.73361V26.2678C4.00546 26.7323 4.19506 27.1756 4.52713 27.5003C4.85921 27.8251 5.3066 28.0048 5.77104 27.9998H26.2202C26.6859 28.0061 27.135 27.8272 27.4687 27.5024C27.8025 27.1776 27.9936 26.7335 28 26.2678V5.72993C27.9933 5.26452 27.8021 4.82082 27.4683 4.49643C27.1345 4.17204 26.6856 3.99354 26.2202 4.00018"/>
                </svg>
            </a>
            <a href="#" target="_blank">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 6.16221C19.2041 6.16221 19.5836 6.1744 20.849 6.23213C22.019 6.28553 22.6544 6.48102 23.0773 6.64531C23.6373 6.863 24.0371 7.12308 24.457 7.54297C24.8769 7.96287 25.137 8.36266 25.3546 8.92274C25.519 9.34564 25.7145 9.98103 25.7679 11.151C25.8256 12.4164 25.8378 12.7959 25.8378 16C25.8378 19.2042 25.8256 19.5837 25.7679 20.849C25.7145 22.019 25.519 22.6544 25.3546 23.0773C25.137 23.6374 24.8769 24.0372 24.457 24.4571C24.0371 24.877 23.6373 25.137 23.0773 25.3547C22.6544 25.519 22.019 25.7145 20.849 25.7679C19.5838 25.8256 19.2043 25.8378 16 25.8378C12.7956 25.8378 12.4161 25.8256 11.151 25.7679C9.98098 25.7145 9.34559 25.519 8.92274 25.3547C8.36261 25.137 7.96282 24.877 7.54293 24.4571C7.12303 24.0372 6.86295 23.6374 6.64531 23.0773C6.48097 22.6544 6.28548 22.019 6.23209 20.8491C6.17435 19.5837 6.16216 19.2042 6.16216 16C6.16216 12.7959 6.17435 12.4164 6.23209 11.151C6.28548 9.98103 6.48097 9.34564 6.64531 8.92274C6.86295 8.36266 7.12303 7.96287 7.54293 7.54297C7.96282 7.12308 8.36261 6.863 8.92274 6.64531C9.34559 6.48102 9.98098 6.28553 11.1509 6.23213C12.4163 6.1744 12.7958 6.16221 16 6.16221ZM16 4C12.7409 4 12.3323 4.01381 11.0524 4.07221C9.77511 4.13052 8.90283 4.33334 8.1395 4.63001C7.35039 4.93668 6.68118 5.347 6.01406 6.01411C5.34695 6.68123 4.93663 7.35044 4.62996 8.13954C4.3333 8.90288 4.13047 9.77516 4.07217 11.0525C4.01377 12.3323 4 12.741 4 16C4 19.2591 4.01377 19.6677 4.07217 20.9476C4.13047 22.2249 4.3333 23.0972 4.62996 23.8605C4.93663 24.6496 5.34695 25.3188 6.01406 25.9859C6.68118 26.6531 7.35039 27.0634 8.1395 27.37C8.90283 27.6667 9.77511 27.8695 11.0524 27.9278C12.3323 27.9862 12.7409 28 16 28C19.259 28 19.6677 27.9862 20.9475 27.9278C22.2248 27.8695 23.0971 27.6667 23.8605 27.37C24.6496 27.0634 25.3188 26.6531 25.9859 25.9859C26.653 25.3188 27.0633 24.6496 27.37 23.8605C27.6667 23.0972 27.8695 22.2249 27.9278 20.9476C27.9862 19.6677 28 19.2591 28 16C28 12.741 27.9862 12.3323 27.9278 11.0525C27.8695 9.77516 27.6667 8.90288 27.37 8.13954C27.0633 7.35044 26.653 6.68123 25.9859 6.01411C25.3188 5.347 24.6496 4.93668 23.8605 4.63001C23.0971 4.33334 22.2248 4.13052 20.9475 4.07221C19.6677 4.01381 19.259 4 16 4ZM16 9.83784C12.5967 9.83784 9.83779 12.5968 9.83779 16C9.83779 19.4033 12.5967 22.1622 16 22.1622C19.4032 22.1622 22.1622 19.4033 22.1622 16C22.1622 12.5968 19.4032 9.83784 16 9.83784ZM16 20C13.7909 20 12 18.2091 12 16C12 13.7909 13.7909 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20ZM23.8456 9.59438C23.8456 10.3897 23.2009 11.0344 22.4056 11.0344C21.6103 11.0344 20.9656 10.3897 20.9656 9.59438C20.9656 8.79909 21.6103 8.15441 22.4056 8.15441C23.2009 8.15441 23.8456 8.79909 23.8456 9.59438Z"/>
                </svg>
            </a>
        </div>
    </div>
    <div *ngIf="breath" class="traits">
        <bfs-progressbar title="Carbon" [progress]="breath.data.ref1.CO2" [breathProgress]="breath.data.breath.CO2" [total]="5000"></bfs-progressbar>
        <bfs-progressbar title="Equivalent Carbon" [progress]="breath.data.ref1.eCO2" [breathProgress]="breath.data.breath.eCO2" [total]="14000"></bfs-progressbar>
        <bfs-progressbar title="Humidity" [progress]="breath.data.ref1.hum" [breathProgress]="breath.data.breath.hum" [total]="100"></bfs-progressbar>
        <bfs-progressbar title="Ethanol" [progress]="breath.data.ref1.ethanol" [breathProgress]="breath.data.breath.ethanol" [total]="20000"></bfs-progressbar>
        <bfs-progressbar title="Hydrogen" [progress]="breath.data.ref1.h2" [breathProgress]="breath.data.breath.h2" [total]="14000"></bfs-progressbar>
        <bfs-progressbar title="Total Volatile Organic Compounds" [progress]="breath.data.ref1.tvoc" [breathProgress]="breath.data.breath.tvoc" [total]="2000"></bfs-progressbar>
        <bfs-progressbar title="Temperature" [progress]="breath.data.ref1.temp" [breathProgress]="breath.data.breath.temp" [total]="50"></bfs-progressbar>
    </div> -->
    <!-- VERSION TWO - FULL LOADING SCREEN -->
    <div *ngIf="(image$ | async) else loading" class="container">
        <div *ngIf="metadata" class="info">
            <h1>{{ metadata.description }}</h1>
            <img [src]="metadata.image" alt="NFT Image">
            <a class="btn" [href]="openSeaUrl" target="_blank">Support the Right to Breathe Initiative</a>
            <p>Token  ID:  {{ breath.data.rfid }}</p>
            <p>Generated on: {{ breath.data.date_t }}</p>
            <hr>
            <div class="social">
                <div class="social__block">
                    <div class="social__title">
                        <h2>Code-x:</h2>
                    </div>
                    <a href="https://twitter.com/codexdiagrams" target="_blank">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M27.4559 8.44292C27.0789 8.61015 26.6912 8.75128 26.2952 8.86586C26.7641 8.33554 27.1216 7.71154 27.3398 7.0287C27.3888 6.87564 27.3381 6.70811 27.2123 6.60801C27.0866 6.50783 26.912 6.49583 26.7737 6.57781C25.9325 7.0767 25.025 7.43523 24.0734 7.64488C23.1149 6.70826 21.813 6.17523 20.4672 6.17523C17.6263 6.17523 15.315 8.48643 15.315 11.3273C15.315 11.551 15.3292 11.7735 15.3572 11.9929C11.8319 11.6834 8.55451 9.95066 6.30393 7.18997C6.22372 7.09157 6.10016 7.03854 5.97366 7.04868C5.84708 7.05859 5.73335 7.12997 5.6694 7.23967C5.21293 8.02292 4.97162 8.91874 4.97162 9.8302C4.97162 11.0716 5.41484 12.2495 6.19779 13.1698C5.95972 13.0874 5.7287 12.9843 5.50821 12.8619C5.38984 12.7961 5.24537 12.7971 5.12777 12.8645C5.01009 12.9319 4.93631 13.056 4.93322 13.1915C4.93268 13.2144 4.93268 13.2372 4.93268 13.2603C4.93268 15.1134 5.92999 16.7817 7.45477 17.691C7.32377 17.6779 7.19286 17.6589 7.06279 17.6341C6.9287 17.6084 6.79082 17.6554 6.70039 17.7577C6.60981 17.8599 6.57985 18.0024 6.62158 18.1324C7.18597 19.8945 8.63905 21.1906 10.3957 21.5857C8.93874 22.4983 7.2726 22.9762 5.52354 22.9762C5.15859 22.9762 4.79154 22.9548 4.43231 22.9123C4.25386 22.8911 4.08323 22.9964 4.02246 23.1661C3.96168 23.3359 4.02609 23.5252 4.17791 23.6225C6.42486 25.0632 9.02297 25.8247 11.6912 25.8247C16.9367 25.8247 20.2181 23.3512 22.0472 21.2761C24.3279 18.6887 25.636 15.2639 25.636 11.88C25.636 11.7386 25.6338 11.5958 25.6295 11.4535C26.5293 10.7756 27.3041 9.95508 27.9345 9.01203C28.0303 8.86881 28.0199 8.67952 27.909 8.54767C27.7982 8.41575 27.6135 8.37309 27.4559 8.44292Z"/>
                        </svg>
                    </a>
                    <a href="https://medium.com/@codexdiagrams" target="_blank">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.5366 16C17.5366 20.4086 14.5183 24 10.7683 24C7.01829 24 4 20.4086 4 16C4 11.5914 7.01829 8 10.7683 8C14.5183 8 17.5366 11.5914 17.5366 16ZM24.9634 16C24.9634 20.1505 23.4451 23.5269 21.5793 23.5269C19.7134 23.5269 18.1951 20.1505 18.1951 16C18.1951 11.8495 19.7134 8.47312 21.5793 8.47312C23.4451 8.47312 24.9634 11.8495 24.9634 16ZM28 16C28 19.7204 27.4695 22.7527 26.811 22.7527C26.1524 22.7527 25.622 19.7204 25.622 16C25.622 12.2796 26.1524 9.24731 26.811 9.24731C27.4695 9.24731 28 12.2796 28 16Z"/>
                        </svg>
                    </a>
                    <p><a href="https://codexdiagrams.com" target="_blank">codexdiagrams.com</a></p>
                </div>
                <div class="social__block">
                    <div class="social__title">
                        <h2>LoPh:</h2>
                    </div>
                    <a href="https://twitter.com/lophlab" target="_blank">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M27.4559 8.44292C27.0789 8.61015 26.6912 8.75128 26.2952 8.86586C26.7641 8.33554 27.1216 7.71154 27.3398 7.0287C27.3888 6.87564 27.3381 6.70811 27.2123 6.60801C27.0866 6.50783 26.912 6.49583 26.7737 6.57781C25.9325 7.0767 25.025 7.43523 24.0734 7.64488C23.1149 6.70826 21.813 6.17523 20.4672 6.17523C17.6263 6.17523 15.315 8.48643 15.315 11.3273C15.315 11.551 15.3292 11.7735 15.3572 11.9929C11.8319 11.6834 8.55451 9.95066 6.30393 7.18997C6.22372 7.09157 6.10016 7.03854 5.97366 7.04868C5.84708 7.05859 5.73335 7.12997 5.6694 7.23967C5.21293 8.02292 4.97162 8.91874 4.97162 9.8302C4.97162 11.0716 5.41484 12.2495 6.19779 13.1698C5.95972 13.0874 5.7287 12.9843 5.50821 12.8619C5.38984 12.7961 5.24537 12.7971 5.12777 12.8645C5.01009 12.9319 4.93631 13.056 4.93322 13.1915C4.93268 13.2144 4.93268 13.2372 4.93268 13.2603C4.93268 15.1134 5.92999 16.7817 7.45477 17.691C7.32377 17.6779 7.19286 17.6589 7.06279 17.6341C6.9287 17.6084 6.79082 17.6554 6.70039 17.7577C6.60981 17.8599 6.57985 18.0024 6.62158 18.1324C7.18597 19.8945 8.63905 21.1906 10.3957 21.5857C8.93874 22.4983 7.2726 22.9762 5.52354 22.9762C5.15859 22.9762 4.79154 22.9548 4.43231 22.9123C4.25386 22.8911 4.08323 22.9964 4.02246 23.1661C3.96168 23.3359 4.02609 23.5252 4.17791 23.6225C6.42486 25.0632 9.02297 25.8247 11.6912 25.8247C16.9367 25.8247 20.2181 23.3512 22.0472 21.2761C24.3279 18.6887 25.636 15.2639 25.636 11.88C25.636 11.7386 25.6338 11.5958 25.6295 11.4535C26.5293 10.7756 27.3041 9.95508 27.9345 9.01203C28.0303 8.86881 28.0199 8.67952 27.909 8.54767C27.7982 8.41575 27.6135 8.37309 27.4559 8.44292Z"/>
                        </svg>
                    </a>
                    <a href="https://www.youtube.com/channel/UCGbLPpRCrJNekXcgE9eLvIA" target="_blank">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_19_22)">
                            <path d="M19.9869 15.7533C17.7864 14.5774 13.5256 12.3675 13.5256 12.3675L19.2064 16.1857C19.2068 16.1857 18.1716 16.7596 19.9869 15.7533Z" fill="black"/>
                            <path d="M13.9398 24.4058C9.36913 24.3216 7.80801 24.2459 6.84846 24.0482C6.19926 23.9169 5.6351 23.6252 5.22145 23.2022C4.90174 22.8821 4.64749 22.3936 4.45024 21.7159C4.28104 21.1513 4.21514 20.6815 4.12119 19.5341C3.97736 16.9444 3.94308 14.8271 4.12119 12.4614C4.26812 11.155 4.33937 9.60414 5.3154 8.69936C5.77625 8.27591 6.31235 8.0034 6.91436 7.89075C7.85477 7.7122 11.8613 7.57104 16.009 7.57104C20.1473 7.57104 24.1627 7.7122 25.104 7.89075C25.8561 8.0319 26.5614 8.4549 26.9755 9.00036C27.866 10.4012 27.8816 12.1431 27.972 13.5056C28.0094 14.1548 28.0094 17.8412 27.972 18.4904C27.8313 20.6437 27.7182 21.4056 27.3985 22.1955C27.2008 22.6942 27.0321 22.9573 26.74 23.249C26.2819 23.6978 25.6978 23.9963 25.0658 24.1048C21.1104 24.4022 17.7518 24.4668 13.9398 24.4058V24.4058ZM19.9968 15.7533C17.7963 14.5774 15.6893 13.4869 13.5355 12.3581V19.1111C15.8019 17.879 18.1912 16.7503 20.0062 15.744L19.9968 15.7533Z"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_19_22">
                            <rect width="24" height="24"  transform="translate(4 4)"/>
                            </clipPath>
                            </defs>
                        </svg>    
                    </a>
                    <a href="https://www.linkedin.com/company/logische-phantasie-lab/" target="_blank">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24.4492 24.451H20.8933V18.8801C20.8933 17.5518 20.8693 15.8414 19.0435 15.8414C17.1914 15.8414 16.9078 17.2885 16.9078 18.7825V24.4506H13.352V12.9975H16.7656V14.5628H16.8116C17.1533 13.9787 17.6471 13.4981 18.2403 13.1723C18.8334 12.8465 19.5039 12.6878 20.1802 12.7129C23.7844 12.7129 24.4492 15.084 24.4492 18.1683V24.451ZM9.33937 11.4316C8.93116 11.4317 8.5321 11.3107 8.19264 11.084C7.85318 10.8573 7.58858 10.5349 7.4323 10.1578C7.27603 9.78065 7.23509 9.36563 7.31467 8.96522C7.39425 8.56482 7.59078 8.197 7.87939 7.9083C8.16801 7.6196 8.53575 7.42297 8.93611 7.3433C9.33646 7.26362 9.75146 7.30447 10.1286 7.46067C10.5057 7.61688 10.8281 7.88143 11.0549 8.22086C11.2817 8.56029 11.4027 8.95937 11.4027 9.36761C11.4027 9.91494 11.1854 10.4399 10.7984 10.8269C10.4115 11.214 9.88665 11.4315 9.33937 11.4316V11.4316ZM11.1173 24.4506H7.55774V12.9975H11.1178L11.1173 24.4506ZM26.2202 4.00156H5.77058C5.54054 3.99876 5.3122 4.04137 5.09864 4.12695C4.88508 4.21253 4.6905 4.33939 4.52604 4.50028C4.36157 4.66117 4.23045 4.85291 4.14019 5.06455C4.04992 5.27618 4.00228 5.50354 4 5.73361V26.2678C4.00546 26.7323 4.19506 27.1756 4.52713 27.5003C4.85921 27.8251 5.3066 28.0048 5.77104 27.9998H26.2202C26.6859 28.0061 27.135 27.8272 27.4687 27.5024C27.8025 27.1776 27.9936 26.7335 28 26.2678V5.72993C27.9933 5.26452 27.8021 4.82082 27.4683 4.49643C27.1345 4.17204 26.6856 3.99354 26.2202 4.00018"/>
                        </svg>
                    </a>
                    <p><a href="https://lo-ph.agency" target="_blank">lo-ph.agency</a></p>
                </div>
            </div>
        </div>
        <div *ngIf="breath" class="traits">
            <bfs-progressbar title="Carbon" [progress]="breath.data.ref1.CO2" [breathProgress]="breath.data.breath.CO2" [total]="5000"></bfs-progressbar>
            <bfs-progressbar title="Equivalent Carbon" [progress]="breath.data.ref1.eCO2" [breathProgress]="breath.data.breath.eCO2" [total]="14000"></bfs-progressbar>
            <bfs-progressbar title="Humidity" [progress]="breath.data.ref1.hum" [breathProgress]="breath.data.breath.hum" [total]="100"></bfs-progressbar>
            <bfs-progressbar title="Ethanol" [progress]="breath.data.ref1.ethanol" [breathProgress]="breath.data.breath.ethanol" [total]="20000"></bfs-progressbar>
            <bfs-progressbar title="Hydrogen" [progress]="breath.data.ref1.h2" [breathProgress]="breath.data.breath.h2" [total]="14000"></bfs-progressbar>
            <bfs-progressbar title="Total Volatile Organic Compounds" [progress]="breath.data.ref1.tvoc" [breathProgress]="breath.data.breath.tvoc" [total]="2000"></bfs-progressbar>
            <bfs-progressbar title="Temperature" [progress]="breath.data.ref1.temp" [breathProgress]="breath.data.breath.temp" [total]="50"></bfs-progressbar>
        </div>
    </div>
    <ng-template #loading>
        <div class="loading">
            <svg width="256" height="320" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class="loading__image" d="M122 90H378L122 410H378L122 90Z"/>
            </svg>
            <p class="loading__title">Please await a little bit meanwhile your unique piece of art is been generated...</p>
            <p class="loading__text">“Breath for Sale” is a NFT project that explores how a single, situated breath registers in a tokenized market enabled by blockchain technology. Utilizing breathing (i.e. CO2, O2, ethanol) and atmospheric data (i.e. temperature, humidity, time, location, air quality in the immediate environment) collected by an in-situ and custom engineered breathing device, a unique visualization is generated for each participant. Participants then choose between “printing” (the image on white paper) or “minting” (the image as an NFT on OpenSea). By “minting,” this particularly engineered form of situated and site-specific data computation is brought into direct interaction with the Ethereum blockchain. All minted breaths are linked to OpenSea, open for purchase, and are updated in real-time to this website.</p>
        </div>
    </ng-template>
</div>

<ng-template #unrevealed>
    <div class="container">
        <div class="notFound">
            <h1>This NFT is unrevealed yet!</h1>
            <h2>Please contact our support</h2>
        </div>
    </div>
</ng-template>